import { render } from '@testing-library/react';
import { BrowserRouter as Router } from "react-router-dom";
// import userEvent from '@testing-library/user-event';
import Signin from "./";
import AuthProvider from "../../contexts/authProvider";

window.fetch = jest.fn(() => Promise.resolve({json: () => Promise.resolve({
  "token": "91d5aba6507b23282188bacb9de7a136bb08ea26"
})}))

describe("Test the Signin component", () => {
  it("Should match the snapshot", () => {
    const { asFragment } = render(<AuthProvider><Router><Signin /></Router></AuthProvider>)
    expect(asFragment()).toMatchSnapshot();
  })

  // test("Has validate", async () => {
  //   render(<AuthProvider><Router><Signin /></Router></AuthProvider>)
  //   const inputEmail = screen.getByTestId("email")
  //   const inputPassword = screen.getByTestId("password")
  //   await userEvent.type(inputEmail, "anjeldiniz@gmail.com")
  //   await userEvent.type(inputPassword, "anjeldinizanjeldiniz")
  //   await userEvent.click(screen.getByText('Enter'))
  //   const h = await screen.findByRole("heading", {level: 1, name: "Vulnerability Controller"})
  //   expect(h).toBeInTheDocument()
  // })
})

